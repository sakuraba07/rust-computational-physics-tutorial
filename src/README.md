# はじめに

本書は、プログラミング言語Rustを用いた計算物理学の実践的な入門書です。数値計算の基礎から物理シミュレーションの実装までを体系的に解説し、Rustを用いた科学技術計算の習得を目的とします。

## 本書の目的

計算物理学は、現代の物理学研究において不可欠な手法です。解析的に解くことが困難な問題に対し、数値計算を用いることで具体的な解を得ることができます。一方、Rustは安全性とパフォーマンスを両立したプログラミング言語として注目を集めています。

本書は、これら2つの分野を結びつけ、Rustを用いて計算物理学の基本的な手法を実装することを通して、その原理の理解を深めることを目的としています。本書が、読者の皆様ご自身による物理シミュレーションの設計・実装、そして結果の分析の一助となることを目指します。

## 想定読者

本書は、以下のような読者を想定しています。

- **Rustの基本文法を習得されている方**：変数、関数、構造体、トレイト、所有権といったRustの基本的な概念を理解されている方を対象とします。高度な知識は必須ではありませんが、基本的なプログラムを作成できる程度の技術を前提としています。

- **学部レベルの物理学を履修された方**：力学、電磁気学、熱力学・統計力学、量子力学といった基礎的な物理学の知識を前提とします。ただし、各章では必要に応じて関連する物理概念の簡単な復習を行います。

プログラミングや物理学の専門家である必要はありません。これらの分野を学びながら実践的なスキルを習得したい学生や研究者の皆様に最適な内容です。

> [!NOTE]
> **Rustを未習得の方へ**
>
> Rustに初めて触れる方は、本書をお読みいただく前に、公式ドキュメントを一読されることを推奨します。公式ドキュメントは非常に丁寧に記述されており、Rustの基本概念を体系的に学ぶことができます。
>
> - [The Rust Programming Language（英語版）](https://doc.rust-lang.org/book/)
> - [The Rust Programming Language（日本語版）](https://doc.rust-jp.rs/book-ja/)
>
> 特に、変数と可変性、所有権、構造体、列挙型、パターンマッチ、トレイトなどの章は、本書を読み進める上で重要な基礎となります。すべてを完全に理解する必要はありませんが、一通り目を通しておくことで、本書の内容がより理解しやすくなります。

## 本書の特徴

本書には、以下のような特徴があります。

- **実践重視のアプローチ**：理論的な解説も行いますが、それ以上に、実際にコードを記述して実行し、結果を検証するプロセスを重視しています。各章で具体的な実装例を提示し、読者の皆様がご自身の手で試すことができるように構成しています。

- **体系的・網羅的な内容**：数値計算の基礎に始まり、常微分方程式、偏微分方程式、モンテカルロ法、並列計算、可視化に至るまで、計算物理学の主要なトピックを幅広く網羅しています。

## 本書で扱う内容

本書は、大別して以下の4部構成です。

- **第1部 基礎編**：Rustと計算物理学の関係、開発環境のセットアップ、そして数値計算の基礎（浮動小数点数、配列操作、主要なクレートの利用法など）について解説します。

- **第2部 数値計算手法**：科学計算の核となる技術を扱います。数値微分・積分、非線形方程式、線形代数、フーリエ解析、常微分方程式、偏微分方程式、モンテカルロ法などの数値解法を実装し、その特性の理解を深めます。

- **第3部 物理シミュレーション**：実際の物理現象をシミュレートします。古典力学、流体力学、統計力学（イジング模型など）、量子力学といった、多様な物理分野における計算手法を解説します。

- **第4部 高度なトピック**：より実用的なシミュレーション技術を扱います。並列計算による高速化、SIMD最適化、パフォーマンス測定などを通じて、実践的な技術を習得します。

## 章の依存関係

本書の各章は相互に関連しています。基本的には順を追って読み進めることを推奨しますが、特定のトピックにご興味がある場合は、以下の依存関係図を参考に、必要な章から読み進めることも可能です。

```d2
direction: down

# 第1部
part1: {
  label: 第1部
  style.fill: "#e3f2fd"
  style.stroke: "#1976d2"

  ch01: {
    shape: rectangle
    label: "第1章\nRustと計算物理学"
  }

  ch02: {
    shape: rectangle
    label: "第2章\n数値計算の基礎"
  }

  ch01 -> ch02
}

# 第2部
part2: {
  label: 第2部
  style.fill: "#f3e5f5"
  style.stroke: "#7b1fa2"

  ch03: {
    shape: rectangle
    label: "第3章\n数値微分と数値積分"
  }

  ch04: {
    shape: rectangle
    label: "第4章\n線形代数"
  }

  ch05: {
    shape: rectangle
    label: "第5章\n非線形方程式と最適化"
  }

  ch06: {
    shape: rectangle
    label: "第6章\nフーリエ解析"
  }

  ch07: {
    shape: rectangle
    label: "第7章\n常微分方程式"
  }

  ch08: {
    shape: rectangle
    label: "第8章\n偏微分方程式"
  }

  ch09: {
    shape: rectangle
    label: "第9章\nモンテカルロ法"
  }

  # 第2部内の依存関係
  ch03 -> ch05
  ch03 -> ch06: {
    style.stroke-dash: 3
  }
  ch03 -> ch07
  ch03 -> ch09: {
    style.stroke-dash: 3
  }

  ch04 -> ch05: {
    style.stroke-dash: 3
  }
  ch04 -> ch07: {
    style.stroke-dash: 3
  }
  ch04 -> ch08

  ch07 -> ch08
}

# 第3部
part3: {
  label: 第3部
  style.fill: "#c8e6c9"
  style.stroke: "#388e3c"

  ch10: {
    shape: rectangle
    label: "第10章\n古典力学"
  }

  ch11: {
    shape: rectangle
    label: "第11章\n流体力学"
  }

  ch12: {
    shape: rectangle
    label: "第12章\n統計力学"
  }

  ch13: {
    shape: rectangle
    label: "第13章\n量子力学"
  }
}

# 第2章→第2部全体への依存関係
part1.ch02 -> part2

# 第2部→第3部の依存関係
part2.ch07 -> part3.ch10
part2.ch04 -> part3.ch10: {
  style.stroke-dash: 3
}

part2.ch08 -> part3.ch11

part2.ch09 -> part3.ch12

part2.ch04 -> part3.ch13
part2.ch07 -> part3.ch13
part2.ch06 -> part3.ch13: {
  style.stroke-dash: 3
}
```

**凡例**

- 実線（→）：必須の前提知識
- 破線（- - →）：推奨される前提知識（該当知識がなくても理解は可能ですが、習得済みであればより深い理解が得られます）

> [!NOTE]
> **第4部（並列計算）について**
>
> 第4部「第14章 並列計算」は、第2章の内容を前提知識とします。また、具体例として第2部および第3部の内容を利用します。図が複雑化することを避けるため、上記の依存関係図には含めていませんが、第2部・第3部を学習された後に取り組むことを推奨します。

### 各章の前提知識

| 章                         | 必須の前提知識      | 推奨される前提知識 |
| -------------------------- | ------------------- | ------------------ |
| 第1章 Rustと計算物理学     | なし                | -                  |
| 第2章 数値計算の基礎       | 第1章               | -                  |
| 第3章 数値微分と数値積分   | 第2章               | -                  |
| 第4章 線形代数             | 第2章               | -                  |
| 第5章 非線形方程式と最適化 | 第2章, 第3章        | 第4章              |
| 第6章 フーリエ解析         | 第2章               | 第3章              |
| 第7章 常微分方程式         | 第2章, 第3章        | 第4章              |
| 第8章 偏微分方程式         | 第2章, 第4章, 第7章 | -                  |
| 第9章 モンテカルロ法       | 第2章               | 第3章              |
| 第10章 古典力学            | 第7章               | 第4章              |
| 第11章 流体力学            | 第8章               | -                  |
| 第12章 統計力学            | 第9章               | -                  |
| 第13章 量子力学            | 第4章, 第7章        | 第6章              |
| 第14章 並列計算            | 第2章               | 第2部・第3部の内容 |

### 目的別の学習パス

特定の分野にご興味がある場合は、以下の学習パスをご参照ください。

**古典力学シミュレーション**

> 第1章 → 第2章 → 第3章 → 第4章 → 第7章 → 第10章

**統計力学シミュレーション**

> 第1章 → 第2章 → 第9章 → 第12章

**量子力学シミュレーション**

> 第1章 → 第2章 → 第3章 → 第4章 → 第6章 → 第7章 → 第13章

**流体力学シミュレーション**

> 第1章 → 第2章 → 第3章 → 第4章 → 第7章 → 第8章 → 第11章

## 本書の使い方

本書は、基本的に最初の章から順に読み進めることを推奨します。ただし、特定のトピックにご興味がある場合は、前述の依存関係をご参考に、必要な章から読み始めることも可能です。第1部（基礎編）は、それ以降の章における前提知識となる項目が多いため、一度目を通されることを推奨します。

各章は、概ね以下の構成で展開されます。

1. **概念の理解**：トピックの物理的・数学的背景を簡潔に解説します。
2. **実装**：Rustによる具体的な実装方法を示します。
3. **実行と可視化**：コードを実行し、得られた結果を確認します。
4. **考察**：結果の解釈や、手法の特性について考察します。

掲載されているコードは、ご自身の手で実行してみることを強く推奨します。エラーへの対処や、期待した結果が得られない場合の試行錯誤は、学習における重要なプロセスです。こうした経験を通じて、より深い理解を得ることができます。

## 本書について

本書は、著者の卒業研究の成果として執筆されました。

執筆にあたり、AI（大規模言語モデル）を活用していますが、生成された内容はすべて著者によって事実確認およびコードの動作検証が行われています。AIは執筆を効率化するための補助的なツールとして用いており、内容の正確性については著者が責任を負います。

本書が、これから計算物理学を学ばれる皆様や、Rustを用いた科学技術計算にご興味をお持ちの方々にとって、有益な一助となれば幸いです。

## フィードバックと貢献

本書の内容には万全を期しておりますが、誤字脱字、理論的な誤り、あるいはコードの不具合などが含まれている可能性がございます。もし何かお気付きの点や改善のご提案がございましたら、[GitHubリポジトリ](https://github.com/sakuraba07/rust-computational-physics-tutorial)へのIssueの作成、またはPull Requestを送付いただけますと幸いです。ご報告は日本語で問題ございません。皆様からのフィードバックは、本書の品質向上に不可欠です。

また、「この説明が理解しにくい」「このようなトピックも扱ってほしい」といったご意見も歓迎いたします。読者の皆様と共に、より良い教材を構築していければ幸いです。

## ライセンス

本書は、[CC0 1.0 Universal (CC0 1.0) Public Domain Dedication](https://creativecommons.org/publicdomain/zero/1.0/deed.ja)ライセンスの下で公開されています。著作者は、著作権法上認められる最大限の範囲で、本書に対する著作権および関連する権利を放棄しています。本書の内容は、教育、研究、商用を問わず、自由に利用、改変、再配布が可能です。

それでは、Rustによる計算物理学の世界をお楽しみください。
